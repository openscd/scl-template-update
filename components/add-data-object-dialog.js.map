{"version":3,"file":"add-data-object-dialog.js","sourceRoot":"","sources":["../../components/add-data-object-dialog.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { LitElement, html, css } from 'lit';\nimport { property, state, query } from 'lit/decorators.js';\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements/lit-element.js';\nimport { MdDialog } from '@scopedelement/material-web/dialog/MdDialog.js';\nimport { MdOutlinedTextField } from '@scopedelement/material-web/textfield/MdOutlinedTextField.js';\nimport { MdFilledSelect } from '@scopedelement/material-web/select/MdOutlineSelect.js';\nimport { MdSelectOption } from '@scopedelement/material-web/select/MdSelectOption.js';\nimport { MdOutlinedButton } from '@scopedelement/material-web/button/outlined-button.js';\nimport { MdTextButton } from '@scopedelement/material-web/button/text-button.js';\n\nexport class AddDataObjectDialog extends ScopedElementsMixin(LitElement) {\n  static scopedElements = {\n    'md-outlined-button': MdOutlinedButton,\n    'md-dialog': MdDialog,\n    'md-outlined-text-field': MdOutlinedTextField,\n    'md-text-button': MdTextButton,\n    'md-select-option': MdSelectOption,\n    'md-filled-select': MdFilledSelect,\n  };\n\n  static styles = css`\n    md-dialog {\n      min-width: 350px;\n    }\n    .dialog-content {\n      display: flex;\n      flex-direction: column;\n      gap: 16px;\n      margin-top: 8px;\n    }\n    md-filled-select,\n    md-outlined-text-field {\n      width: 100%;\n    }\n    md-text-button {\n      text-transform: uppercase;\n    }\n  `;\n\n  @property({ type: Array })\n  cdClasses: string[] = [];\n\n  @property()\n  lNodeClass: string = '';\n\n  @state()\n  open = false;\n\n  @state()\n  errorText = '';\n\n  @query('md-dialog')\n  createDOdialog!: MdDialog;\n\n  @query('#cdc-type')\n  cdcType!: MdFilledSelect;\n\n  @query('#do-name')\n  doName!: MdOutlinedTextField;\n\n  show() {\n    this.createDOdialog.show();\n  }\n\n  close() {\n    if (this.cdcType) {\n      this.cdcType.errorText = '';\n      this.cdcType.error = false;\n      this.cdcType.reset();\n    }\n\n    if (this.doName) {\n      this.doName.errorText = '';\n      this.doName.error = false;\n      this.doName.value = '';\n    }\n\n    this.createDOdialog.close();\n  }\n\n  private validateForm(): boolean {\n    let isValid = true;\n\n    if (!this.cdcType?.value) {\n      this.cdcType.errorText = 'Please select a common data class.';\n      this.cdcType.error = true;\n      isValid = false;\n    } else {\n      this.cdcType.errorText = '';\n      this.cdcType.error = false;\n    }\n\n    if (!this.doName?.checkValidity()) {\n      this.doName.errorText = 'Not a valid DO name.';\n      this.doName.error = true;\n      isValid = false;\n    } else {\n      this.doName.errorText = '';\n      this.doName.error = false;\n    }\n\n    return isValid;\n  }\n\n  private onAddDataObjectSubmit(e: Event) {\n    e.preventDefault();\n    if (!this.validateForm()) return;\n    const cdcType = this.cdcType.value;\n    const doName = this.doName.value;\n    this.dispatchEvent(\n      new CustomEvent('add-data-object', {\n        detail: { cdcType, doName },\n        bubbles: true,\n        composed: true,\n      })\n    );\n    this.close();\n  }\n\n  /* eslint-disable class-methods-use-this */\n  private resetErrorText(e: Event): void {\n    const target = e.target as MdOutlinedTextField;\n    if (target.errorText && target.checkValidity()) {\n      target.errorText = '';\n      target.error = false;\n    }\n  }\n\n  render() {\n    return html`\n      <md-dialog>\n        <div slot=\"headline\">Add Data Object to ${this.lNodeClass}</div>\n        <form\n          slot=\"content\"\n          id=\"add-data-object\"\n          class=\"dialog-content\"\n          novalidate\n          @submit=${this.onAddDataObjectSubmit}\n          @reset=${this.close}\n        >\n          <md-filled-select\n            class=\"cdc-type\"\n            label=\"Common Data Class\"\n            required\n            id=\"cdc-type\"\n            @input=${this.resetErrorText}\n          >\n            ${this.cdClasses.map(\n              cdClass =>\n                html`<md-select-option value=${cdClass}\n                  >${cdClass}</md-select-option\n                >`\n            )}\n          </md-filled-select>\n          <md-outlined-text-field\n            label=\"Data Object Name\"\n            id=\"do-name\"\n            required\n            maxlength=\"12\"\n            pattern=\"[A-Z][0-9A-Za-z]*\"\n            @input=${this.resetErrorText}\n          ></md-outlined-text-field>\n        </form>\n        <div slot=\"actions\">\n          <md-text-button form=\"add-data-object\" type=\"reset\"\n            >Close</md-text-button\n          >\n          <md-text-button form=\"add-data-object\" type=\"submit\"\n            >Add</md-text-button\n          >\n        </div>\n      </md-dialog>\n    `;\n  }\n}\n\nexport default AddDataObjectDialog;\n"]}